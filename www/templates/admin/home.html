{% extends "base/base_admin.html" %}
{% load custom_tags %}
{% load custom_filters %}
{% block title %}后台首页{% endblock %}

{% block base_css %}
<style type="text/css">
body{
    background-color: #f1f1f1;
}

.login{
    right: 13px;
    bottom: -18px;
}

a.list-group-item{
    transition: all 0.5s;
}
a.list-group-item:hover{
    background-color: #86C1D6;
    box-shadow: 2px 2px 4px #666666;
    color: white;
    padding-left: 20px;
}
a.list-group-item.active{
    box-shadow: 2px 2px 1px #428bca;
}

.list-group-item{
    transition: all 0.5s;
}
.list-group-item:hover{
    background-color: #86C1D6;
    box-shadow: 2px 2px 4px #666666;
    color: white;
    padding-left: 20px;
}
.list-group-item:hover>a{
    color: #fff;
}
.list-group-item.active{
    background-color: #428bca;
}
.list-group-item.active>a{
    color: #fff;
}

.admin-right .form-horizontal .form-group{
    margin-right: 15px;
    margin-left: 15px;
}

.container{
    position: relative;
}
</style>
{% block css %}{% endblock %}
{% endblock base_css %}

{% block base_js %}
<script type="text/javascript">
    $(document).ready(function(){

        // clock
        window.setInterval(function(){
            var d = new Date();

            $('.current-time').html(
                String.format(
                    '{0}-{1}-{2} {3}:{4}:{5}',
                    $.ZXUtils.addZero(d.getFullYear()), 
                    $.ZXUtils.addZero(d.getMonth()+1), 
                    $.ZXUtils.addZero(d.getDate()),
                    $.ZXUtils.addZero(d.getHours()),
                    $.ZXUtils.addZero(d.getMinutes()),
                    $.ZXUtils.addZero(d.getSeconds())
                )
            );
        }, 1000);

        // 初始化自定义多选按钮
        $('.zx-checkbox').zxCheckbox();

        // 二级导航
        $('.admin-nav>li.list-group-item')
        .bind('mouseenter', function(){
            var nav = $(this),
                width = nav.width() + 30;
            
            nav.find('.sub-admin-nav').css({
                'left': width, 
                'top': '0', 
                'width': width, 
                'z-index': 1
            }).show('fast');
        })
        .bind('mouseleave', function(){
            var nav = $(this);
            
            nav.find('.sub-admin-nav').hide('fast');
        });
    });
</script>
{% block javascript %}{% endblock %}
{% endblock base_js %}

{% block container %}
<div class="pa col-md-2">
    <ul class="list-group admin-nav pt-25">
        <a class="list-group-item bgc-e9e9e9 box-shadow-224 border-1 bdc-fff {% if '/admin/question' in request.path %}active{% endif %}" href="/admin/question">提问管理</a>
        <a class="list-group-item bgc-e9e9e9 box-shadow-224 border-1 bdc-fff {% if '/admin/important_question' in request.path %}active{% endif %}" href="/admin/important_question">每日精选管理</a>
        <a class="list-group-item bgc-e9e9e9 box-shadow-224 border-1 bdc-fff {% if '/admin/recommend_user' in request.path %}active{% endif %}" href="/admin/recommend_user">推荐用户管理</a>
        <a class="list-group-item bgc-e9e9e9 box-shadow-224 border-1 bdc-fff none {% if '/admin/topic' in request.path %}active{% endif %}" href="/admin/topic">话题管理</a>
        <a class="list-group-item bgc-e9e9e9 box-shadow-224 border-1 bdc-fff none" href="#">专栏管理</a>
        <a class="list-group-item bgc-e9e9e9 box-shadow-224 border-1 bdc-fff {% if '/admin/user' in request.path %}active{% endif %}" href="/admin/user">用户管理</a>
        <a class="list-group-item bgc-e9e9e9 box-shadow-224 border-1 bdc-fff none" href="#">城市友情链接管理</a>
        <a class="list-group-item bgc-e9e9e9 box-shadow-224 border-1 bdc-fff {% if '/admin/customer_manager' in request.path %}active{% endif %}" href="/admin/customer_manager">客户经理管理</a>
        <a class="list-group-item bgc-e9e9e9 box-shadow-224 border-1 bdc-fff none" href="#">用户反馈管理</a>
        <a class="list-group-item bgc-e9e9e9 box-shadow-224 border-1 bdc-fff {% if '/admin/friendly_link' in request.path %}active{% endif %}" href="friendly_link">友情链接管理</a>
        <a class="list-group-item bgc-e9e9e9 box-shadow-224 border-1 bdc-fff {% if '/admin/permission' in request.path %}active{% endif %}" href="/admin/permission">权限管理</a>
        
        <!-- 二级导航样式 -->
        <li class="list-group-item bgc-e9e9e9 box-shadow-224 border-1 bdc-fff {% if '/admin/statistics' in request.path %}active{% endif %}">
            <a class="co2" href="/admin/permission">统计管理
                <span class="glyphicon glyphicon-chevron-right pull-right f12 mt-3"></span>
            </a>
            <ul class="sub-admin-nav list-group pa none box-shadow-224">
                <a class="list-group-item bgc-e9e9e9 box-shadow-224 border-1 bdc-fff {% if '/admin/statistics/active_user' in request.path %}active{% endif %}" href="/admin/statistics/active_user">当日活跃用户统计</a>
                
                <a class="list-group-item bgc-e9e9e9 box-shadow-224 border-1 bdc-fff {% if '/admin/statistics/register_user' in request.path %}active{% endif %}" href="/admin/statistics/register_user">注册用户统计</a>
            </ul>
        </li>
    </ul>
</div>

<div class="col-md-offset-2 col-md-10 box-shadow-224 bgc-fff mt-25 admin-right">
    {% block admin-right %}{% endblock admin-right %}
</div>
{% endblock container %}